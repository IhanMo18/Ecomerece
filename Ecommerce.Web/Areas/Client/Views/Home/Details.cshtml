@model ProductVm

<div class="container py-5">
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="product-images">
                <img src="@Model.Product.ImgUrl" class="w-100 rounded product-img" alt="Product">
            </div>
        </div>
        <div class="col-lg-6">
            <div class="product-info">
                <span class="badge bg-secondary mb-2">@Model.Product.Category</span>
                <h1 class="product-title">@Model.Product.Name</h1>
                <div class="rating-section mb-3">
                    <div class="stars d-flex align-items-center">
                        <div class="text-warning me-2">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-half"></i>
                        </div>
                        <span class="rating-value fw-bold">4.5</span>
                        <span class="text-muted ms-2">(128 reviews)</span>
                    </div>
                </div>
                <div class="pricing my-3">
                    @if (@Model.Product.Discount !=0)
                    {
                        var discount = System.Math.Round((@Model.Product.Discount * 0.01) * @Model.Product.Price);
                        var realPrice = @Model.Product.Price-@discount; 
                        <span class="text-decoration-line-through fs-5">$@Model.Product.Price</span>
                        <span class="fs-3 ms-2 fw-bold text-primary">$@realPrice</span>
                        <span class="badge bg-danger ms-2">@Model.Product.Discount% OFF</span>
                    }
                    else
                    {
                        <span class="fs-3 ms-2 fw-bold text-primary">$200</span>
                    }
                        
                       
                </div>
                <p class="product-description">@Model.Product.Details</p>
                <div class="quantity-selector input-group mb-3" style="width: 150px;">
                    <button class="btn btn-outline-secondary" type="button" id="decrease">-</button>
                    <input type="number" class="form-control text-center" value="1" min="1" id="quantity">
                    <button class="btn btn-outline-secondary" type="button" id="increase">+</button>
                </div>
                <div class="d-flex gap-2 mb-4">
                    <button class="btn btn-primary btn-lg flex-grow-1">Add to Cart</button>
                    <button class="btn btn-success btn-lg flex-grow-1">Buy Now</button>
                    <button class="btn btn-outline-danger btn-lg"><i class="bi bi-heart"></i></button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="reviews-section mt-5">
            <h2 class="mb-4">Customer Reviews</h2>
            <div class="overall-rating mb-4">
                <h4>Overall Rating: 4.5/5</h4>
                <div class="progress" style="height: 25px;">
                    <div class="progress-bar bg-warning" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">4.5</div>
                </div>
            </div>
            
            <div class="row">
                @foreach (var obj in @Model.AllReviews)
                {
                    <div class="col-md-4 mb-3">
                        <div class="card review-card">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <img src="" class="rounded-circle me-2" width="40" height="40" alt="User"> <!--User Image-->
                                    <div>
                                        <h6 class="mb-0">@obj.User.Username</h6>
                                        <div class="text-warning">
                                            <i class="bi bi-star-fill"></i>
                                            <i class="bi bi-star-fill"></i>
                                            <i class="bi bi-star-fill"></i>
                                            <i class="bi bi-star-fill"></i>
                                            <i class="bi bi-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <span>@obj.Date.DayOfWeek</span>
                                <p class="card-text">@obj.Message</p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>

        <div class="write-review mt-5 mb-5">
            <h2 class="mb-4">Write a Review</h2>
            <div class="card">
                <div class="card-body">
                    <form method="post" asp-controller="Review" asp-action="SendReview">
                        <div class="mb-3">
                            <label class="form-label">Your Rating</label>
                            <div class="rating-stars fs-3 text-warning">
                                <i class="bi bi-star me-2" role="button" id="1"></i>
                                <i class="bi bi-star me-2" role="button" id="2"></i>
                                <i class="bi bi-star me-2" role="button" id="3"></i>
                                <i class="bi bi-star me-2" role="button" id="4"></i>
                                <i class="bi bi-star me-2" role="button" id="5"></i>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="reviewText" class="form-label">Your Review</label>
                            <textarea asp-for="Review.Message" class="form-control" id="reviewText" rows="4" placeholder="Tell us what you liked or didn't like about the product"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Review</button>
                    </form>
                </div>
            </div>
        </div>
        
        
<div class="recommended-products mt-5">
    <h2 class="mb-4">You May Also Like</h2>
    <div id="recommendedCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="row">
                    <div class="col-md-3">
                        <div class="card product-card">
                            <div class="position-relative">
                                <span class="badge bg-danger position-absolute top-0 start-0 m-2">15% OFF</span>
                                <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772" class="card-img-top" alt="Product">
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">Nike Air Force 1</h5>
                                <div class="d-flex align-items-center mb-2">
                                    <div class="text-warning me-2">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-half"></i>
                                    </div>
                                    <span class="small">(4.5)</span>
                                </div>
                                <p class="card-text fw-bold">$120</p>
                                <button class="btn btn-outline-primary w-100">Quick View</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card product-card">
                            <div class="position-relative">
                                <span class="badge bg-danger position-absolute top-0 start-0 m-2">20% OFF</span>
                                <img src="https://images.unsplash.com/photo-1543508282-6319a3e2621f" class="card-img-top" alt="Product">
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">Nike Air Max 90</h5>
                                <div class="d-flex align-items-center mb-2">
                                    <div class="text-warning me-2">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star"></i>
                                    </div>
                                    <span class="small">(4.0)</span>
                                </div>
                                <p class="card-text fw-bold">$140</p>
                                <button class="btn btn-outline-primary w-100">Quick View</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card product-card">
                            <div class="position-relative">
                                <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff" class="card-img-top" alt="Product">
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">Nike Free Run</h5>
                                <div class="d-flex align-items-center mb-2">
                                    <div class="text-warning me-2">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-half"></i>
                                        <i class="bi bi-star"></i>
                                    </div>
                                    <span class="small">(3.5)</span>
                                </div>
                                <p class="card-text fw-bold">$110</p>
                                <button class="btn btn-outline-primary w-100">Quick View</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card product-card">
                            <div class="position-relative">
                                <span class="badge bg-danger position-absolute top-0 start-0 m-2">10% OFF</span>
                                <img src="https://images.unsplash.com/photo-1608231387042-66d1773070a5" class="card-img-top" alt="Product">
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">Nike Zoom</h5>
                                <div class="d-flex align-items-center mb-2">
                                    <div class="text-warning me-2">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                    </div>
                                    <span class="small">(5.0)</span>
                                </div>
                                <p class="card-text fw-bold">$130</p>
                                <button class="btn btn-outline-primary w-100">Quick View</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#recommendedCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#recommendedCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
        </div>
    </div>
</div>



@{
    <script>
          var myCarousel = document.querySelector('#recommendedCarousel');
          var carousel = new bootstrap.Carousel(myCarousel, {
          interval: 2000, // Ajusta el intervalo del carrusel si es necesario
           ride: 'carousel'
    });
    </script>
}